<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
 <meta name="generator" content="Adobe RoboHelp 2015" />
<title>ピクチャーを表示する</title>
<link rel="StyleSheet" href="default.css" type="text/css" />
<link rel="stylesheet" href="highlight/styles/default.css" type="text/css" />
<script src="highlight/highlight.pack.js" type="text/javascript"></script>
<script type="text/javascript">//<![CDATA[
hljs.initHighlightingOnLoad();
//]]></script>
<script type="text/javascript" language="JavaScript">
//<![CDATA[
function reDo() {
  if (innerWidth != origWidth || innerHeight != origHeight)
     location.reload();
}
if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
	origWidth = innerWidth;
	origHeight = innerHeight;
	onresize = reDo;
}
onerror = null; 
//]]>
</script>
<style type="text/css">
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }
p.WebHelpNavBar { text-align:right; }
-->
</style>

<script type="text/javascript" src="template/scripts/rh.min.js"></script>
<script type="text/javascript" src="template/scripts/common.min.js"></script>
<script type="text/javascript" src="template/scripts/topic.min.js"></script>
<script type="text/javascript" src="template/scripts/constants.js"></script>
<script type="text/javascript" src="template/scripts/utils.js"></script>
<script type="text/javascript" src="template/scripts/mhutils.js"></script>
<script type="text/javascript" src="template/scripts/mhlang.js"></script>
<script type="text/javascript" src="template/scripts/mhver.js"></script>
<script type="text/javascript" src="template/scripts/settings.js"></script>
<script type="text/javascript" src="template/scripts/XmlJsReader.js"></script>
<script type="text/javascript" src="template/scripts/loadparentdata.js"></script>
<script type="text/javascript" src="template/scripts/loadscreen.js"></script>
<script type="text/javascript" src="template/scripts/loadprojdata.js"></script>
<script type="text/javascript" src="template/scripts/mhtopic.js"></script>
 
<script type="text/javascript" >
gRootRelPath = ".";
gCommonRootRelPath = ".";
gTopicId = "2.1.0_1";
</script>
 <meta name="topic-breadcrumbs" content="Scripter's Guide > Basic Engine" />
<script type="text/javascript" language="JavaScript">
//<![CDATA[
function reDo() {
  if (innerWidth != origWidth || innerHeight != origHeight)
     location.reload();
}
if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
	origWidth = innerWidth;
	origHeight = innerHeight;
	onresize = reDo;
}
onerror = null; 
//]]>
</script>
<style type="text/css">
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }
p.WebHelpNavBar { text-align:right; }
-->
</style>

<script type="text/javascript" src="template/scripts/rh.min.js"></script>
<script type="text/javascript" src="template/scripts/common.min.js"></script>
<script type="text/javascript" src="template/scripts/topic.min.js"></script>
<script type="text/javascript" src="template/scripts/constants.js"></script>
<script type="text/javascript" src="template/scripts/utils.js"></script>
<script type="text/javascript" src="template/scripts/mhutils.js"></script>
<script type="text/javascript" src="template/scripts/mhlang.js"></script>
<script type="text/javascript" src="template/scripts/mhver.js"></script>
<script type="text/javascript" src="template/scripts/settings.js"></script>
<script type="text/javascript" src="template/scripts/XmlJsReader.js"></script>
<script type="text/javascript" src="template/scripts/loadparentdata.js"></script>
<script type="text/javascript" src="template/scripts/loadscreen.js"></script>
<script type="text/javascript" src="template/scripts/loadprojdata.js"></script>
<script type="text/javascript" src="template/scripts/mhtopic.js"></script>
 <link rel="stylesheet" type="text/css" href="template/styles/topic.min.css">
<script type="text/javascript" >
gRootRelPath = ".";
gCommonRootRelPath = ".";
gTopicId = "4.1.0_1";
</script>
 <meta name="topic-breadcrumbs" content="スクリプターズ ガイド > 基本エンジン" />
</head>

<body>
<script type="text/javascript" src="./ehlpdhtm.js"></script>



<p class="Topic_Heading">ピクチャーを表示する</p>
<p>&#160;</p>
<p><span class="Topic_Start">本</span>項では、ピクチャーを読み込んで画面上に表示しますが、前に赤い正方形を表示したのと同じくらい簡単にできます。追加する手順は 1 つで、イメージリソースを画面に表示する前にディスクから読み込む必要があります。</p>
<p>&#160;</p>
<p class="Sub_Heading">イメージソースを読み込む</p>
<pre><code class="coffee">
###*
* Prepares all data for the scene and loads the necessary graphic and audio resources.
### 
prepareData: -&gt;
&nbsp;&nbsp;&nbsp;&nbsp;# Loading the image
&nbsp;&nbsp;&nbsp;&nbsp;@bitmap = ResourceManager.getBitmap(&quot;Graphics/Pictures/bg-generic&quot;)</code></pre>
<p>イメージリソースは gs.Bitmap オブジェクトによって表されます。ResourceManager.getBitmap を使ってイメージリソースをビットマップとして読み込むことをお勧めします。読み込みは非同期で行われるため、読み込みが完了するまでビットマップデータの使用やアクセスはできません。一度読み込まれたビットマップは再読み込みしないで済むようにキャッシュに格納されます。getBitmap メソッドから返されたビットマップオブジェクトは、ビットマップの読み込みが完了していない場合はただの空のラッパーオブジェクトです。</p>
<p>&#160;</p>
<p>詳細は別項の <a href="Resource_Management.htm">リソース マネージメント</a> でご説明します。</p>
<p>&#160;</p>
<p>ビットマップオブジェクトはイメージの幅や高さなどの一般情報を持ち、ピクセルデータの編集が可能です。また、新規に「空の」ビットマップを作成することも可能ですが、これは後ほどテキストの表示の項で学習します。</p>
<p>&#160;</p>
<p>上の例では、読み込まれていない gs.Bitmap オブジェクトを受け取ります。読み込み処理を気にする必要はありません。このシーンの prepareVisual メソッドは、要求されたすべてイメージリソースの読み込みが完了すると自動的に呼び出されます。</p>
<p>&#160;</p>
<p class="Sub_Heading">イメージを画面に表示する</p>
<pre><code class="coffee">
###*
* Prepares all visual game object for the scene.
### &nbsp;
prepareVisual: -&gt;
&nbsp;&nbsp;&nbsp;&nbsp;# Create a new sprite object to show our image on screen.
&nbsp;&nbsp;&nbsp;&nbsp;@sprite = new gs.Sprite(Graphics.viewport)
&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;# Assign our image to the sprite to display it on screen
&nbsp;&nbsp;&nbsp;&nbsp;@sprite.bitmap = @bitmap
&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;# Setup the position on screen. We make it centered.
&nbsp;&nbsp;&nbsp;&nbsp;@sprite.x = (Graphics.width - @bitmap.width) / 2
&nbsp;&nbsp;&nbsp;&nbsp;@sprite.y = (Graphics.height - @bitmap.height) / 2
&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;# Define the portion of the image we want to display on screen.
&nbsp;&nbsp;&nbsp;&nbsp;@sprite.srcRect = new gs.Rect(0, 0, @bitmap.width, @bitmap.height)
&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;# We are done with preparing our visual objects. So we can start
&nbsp;&nbsp;&nbsp;&nbsp;# the screen transition to fade in our new created objects smoothly.
&nbsp;&nbsp;&nbsp;&nbsp;@transition()</code></pre>
<p>ビットマップオブジェクト自身は直接画面上に表示することはできません。それはイメージデータを保持してはいるけれども、そのデータ表示方法についてはわからないオブジェクト、と言ったほうがいいかもしれません。表示するには gs.Sprite オブジェクトが必要です。スプライトオブジェクトはビットマップオブジェクトを画面上に表示するために使用されます。必要な作業は、ビットマップオブジェクトをスプライトのビットマッププロパティに割り当てるだけです。したがって、複数のスプライトオブジェクトを作成し、同じビットマップオブジェクトをそれぞれに割り当てれば、同じビットマップを画面に複数回表示することができます。</p>
<p>&#160;</p>
<p>srcRect プロパティは既定では設定されていません。これは画面表示に表示するビットマップのサイズを定義します。つまり、このプロパティを設定しないと何も表示されません。ここではイメージ全体を表示したいので、フルサイズに設定します。ソーシャルメディアなどに写真をアップロードした後で写真の一部をカットしてトリミングできる機能がありますが、このプロパティはそのようなものと考えてもかまいません。</p>
<p>&#160;</p>
<p>&#160;</p>
<p>&#160;</p>
</body>
</html>
